!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).core=t()}}(function(){return function o(a,s,u){function c(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[e]={exports:{}};a[e][0].call(r.exports,function(t){return c(a[e][1][t]||t)},r,r.exports,o,a,s,u)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=t("../constants/error_msgs"),r=t("../constants/metadata_keys");function o(t,e,n,i,r){var o={},a="number"==typeof r,s=void 0!==r&&a?r.toString():n;if(a&&void 0!==n)throw new Error(p.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var u=o[s];if(Array.isArray(u))for(var c=0,d=u;c<d.length;c++){var l=d[c];if(l.key===i.key)throw new Error(p.DUPLICATED_METADATA+" "+l.key.toString())}else u=[];u.push(i),o[s]=u,Reflect.defineMetadata(t,o,e)}function a(t,e){Reflect.decorate(t,e)}n.tagParameter=function(t,e,n,i){o(r.TAGGED,t,e,i,n)},n.tagProperty=function(t,e,n){o(r.TAGGED_PROP,t.constructor,e,n)},n.decorate=function(t,e,n){var i,r;"number"==typeof n?a([(i=n,r=t,function(t,e){r(t,e,i)})],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},{"../constants/error_msgs":13,"../constants/metadata_keys":15}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../constants/error_msgs"),a=t("../constants/metadata_keys"),s=t("../planning/metadata"),u=t("./decorator_utils"),i=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();n.LazyServiceIdentifer=i,n.inject=function(r){return function(t,e,n){if(void 0===r)throw new Error(o.UNDEFINED_INJECT_ANNOTATION(t.name));var i=new s.Metadata(a.INJECT_TAG,r);"number"==typeof n?u.tagParameter(t,e,n,i):u.tagProperty(t,e,i)}}},{"../constants/error_msgs":13,"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=t("../constants/metadata_keys");n.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(r.PARAM_TYPES,t))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(r.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(r.PARAM_TYPES,e,t),t}}},{"../constants/error_msgs":13,"../constants/metadata_keys":15}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../constants/metadata_keys"),a=t("../planning/metadata"),s=t("./decorator_utils");n.multiInject=function(r){return function(t,e,n){var i=new a.Metadata(o.MULTI_INJECT_TAG,r);"number"==typeof n?s.tagParameter(t,e,n,i):s.tagProperty(t,e,i)}}},{"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../constants/metadata_keys"),a=t("../planning/metadata"),s=t("./decorator_utils");n.named=function(r){return function(t,e,n){var i=new a.Metadata(o.NAMED_TAG,r);"number"==typeof n?s.tagParameter(t,e,n,i):s.tagProperty(t,e,i)}}},{"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../constants/metadata_keys"),o=t("../planning/metadata"),a=t("./decorator_utils");n.optional=function(){return function(t,e,n){var i=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?a.tagParameter(t,e,n,i):a.tagProperty(t,e,i)}}},{"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../constants/error_msgs"),o=t("../constants/metadata_keys"),a=t("../planning/metadata");n.postConstruct=function(){return function(t,e,n){var i=new a.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,i,t.constructor)}}},{"../constants/error_msgs":13,"../constants/metadata_keys":15,"../planning/metadata":22}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("../planning/metadata"),s=t("./decorator_utils");n.tagged=function(r,o){return function(t,e,n){var i=new a.Metadata(r,o);"number"==typeof n?s.tagParameter(t,e,n,i):s.tagProperty(t,e,i)}}},{"../planning/metadata":22,"./decorator_utils":1}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../constants/metadata_keys"),a=t("../planning/metadata"),s=t("./decorator_utils");n.targetName=function(r){return function(t,e,n){var i=new a.Metadata(o.NAME_TAG,r);s.tagParameter(t,e,n,i)}}},{"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../constants/metadata_keys"),o=t("../planning/metadata"),a=t("./decorator_utils");n.unmanaged=function(){return function(t,e,n){var i=new o.Metadata(r.UNMANAGED_TAG,!0);a.tagParameter(t,e,n,i)}}},{"../constants/metadata_keys":15,"../planning/metadata":22,"./decorator_utils":1}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/literal_types"),r=t("../utils/id"),o=function(){function e(t,e){this.id=r.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();n.Binding=o},{"../constants/literal_types":14,"../utils/id":41}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",n.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",n.NULL_ARGUMENT="NULL argument",n.KEY_NOT_FOUND="Key Not Found",n.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",n.CANNOT_UNBIND="Could not unbind serviceIdentifier:",n.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",n.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",n.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",n.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},n.CIRCULAR_DEPENDENCY="Circular dependency found:",n.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",n.INVALID_BINDING_TYPE="Invalid binding type:",n.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",n.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",n.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",n.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",n.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",n.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},n.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",n.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",n.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",n.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",n.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",n.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},n.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},n.STACK_OVERFLOW="Maximum call stack size exceeded"},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};n.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};n.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NAMED_TAG="named",n.NAME_TAG="name",n.UNMANAGED_TAG="unmanaged",n.OPTIONAL_TAG="optional",n.INJECT_TAG="inject",n.MULTI_INJECT_TAG="multi_inject",n.TAGGED="inversify:tagged",n.TAGGED_PROP="inversify:tagged_props",n.PARAM_TYPES="inversify:paramtypes",n.DESIGN_PARAM_TYPES="design:paramtypes",n.POST_CONSTRUCT="post_construct"},{}],16:[function(t,e,n){"use strict";var i=this&&this.__awaiter||function(o,a,s,u){return new(s||(s=Promise))(function(t,e){function n(t){try{r(u.next(t))}catch(t){e(t)}}function i(t){try{r(u.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,i)}r((u=u.apply(o,a||[])).next())})},u=this&&this.__generator||function(n,i){var r,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../bindings/binding"),c=t("../constants/error_msgs"),o=t("../constants/literal_types"),a=t("../constants/metadata_keys"),d=t("../planning/metadata_reader"),l=t("../planning/planner"),p=t("../resolution/resolver"),f=t("../syntax/binding_to_syntax"),h=t("../utils/id"),y=t("../utils/serialization"),g=t("./container_snapshot"),_=t("./lookup"),s=function(){function s(t){var e=t||{};if("object"!=typeof e)throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=o.BindingScopeEnum.Transient;else if(e.defaultScope!==o.BindingScopeEnum.Singleton&&e.defaultScope!==o.BindingScopeEnum.Transient&&e.defaultScope!==o.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new _.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new d.MetadataReader}return s.merge=function(t,e){var n=new s,i=l.getBindingDictionary(n),r=l.getBindingDictionary(t),o=l.getBindingDictionary(e);function a(t,n){t.traverse(function(t,e){e.forEach(function(t){n.add(t.serviceIdentifier,t.clone())})})}return a(r,i),a(o,i),n},s.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,r=t;i<r.length;i++){var o=r[i],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},s.prototype.loadAsync=function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];return i(this,void 0,void 0,function(){var e,n,i,r,o;return u(this,function(t){switch(t.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,i=a,t.label=1;case 1:return n<i.length?(r=i[n],o=e(r.id),[4,r.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:t.sent(),t.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},s.prototype.unload=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){var e,n=(e=t.id,function(t){return t.moduleId===e});i._bindingDictionary.removeByCondition(n)})},s.prototype.bind=function(t){var e=this.options.defaultScope||o.BindingScopeEnum.Transient,n=new r.Binding(t,e);return this._bindingDictionary.add(t,n),new f.BindingToSyntax(n)},s.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},s.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(c.CANNOT_UNBIND+" "+y.getServiceIdentifierAsString(e))}},s.prototype.unbindAll=function(){this._bindingDictionary=new _.Lookup},s.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},s.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,a.NAMED_TAG,e)},s.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),o=l.createMockRequest(this,t,e,n);i=r.some(function(t){return t.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},s.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},s.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},s.prototype.createChild=function(t){var e=new s(t||this.options);return e.parent=this,e},s.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,e){return e(t)},n)},s.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},s.prototype.get=function(t){return this._get(!1,!1,o.TargetTypeEnum.Variable,t)},s.prototype.getTagged=function(t,e,n){return this._get(!1,!1,o.TargetTypeEnum.Variable,t,e,n)},s.prototype.getNamed=function(t,e){return this.getTagged(t,a.NAMED_TAG,e)},s.prototype.getAll=function(t){return this._get(!0,!0,o.TargetTypeEnum.Variable,t)},s.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,o.TargetTypeEnum.Variable,t,e,n)},s.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,a.NAMED_TAG,e)},s.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),e.get(t)},s.prototype._getContainerModuleHelpersFactory=function(){var r=this,o=function(t,e){t._binding.moduleId=e};return function(t){return{bindFunction:(i=t,function(t){var e=r.bind.bind(r)(t);return o(e,i),e}),isboundFunction:function(t){return r.isBound.bind(r)(t)},rebindFunction:(n=t,function(t){var e=r.rebind.bind(r)(t);return o(e,n),e}),unbindFunction:function(t){r.unbind.bind(r)(t)}};var n,i}},s.prototype._get=function(t,e,n,i,r,o){var a=null,s={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:r,serviceIdentifier:i,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(s)))throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(s);return a},s.prototype._planAndResolve=function(){var n=this;return function(t){var e=l.plan(n._metadataReader,n,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return e=t.contextInterceptor(e),p.resolve(e)}},s}();n.Container=s},{"../bindings/binding":11,"../constants/error_msgs":13,"../constants/literal_types":14,"../constants/metadata_keys":15,"../planning/metadata_reader":23,"../planning/planner":25,"../resolution/resolver":31,"../syntax/binding_to_syntax":35,"../utils/id":41,"../utils/serialization":42,"./container_snapshot":18,"./lookup":19}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/id"),r=function(t){this.id=i.id(),this.registry=t};n.ContainerModule=r;var o=function(t){this.id=i.id(),this.registry=t};n.AsyncContainerModule=o},{"../utils/id":41}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(){}return i.of=function(t,e){var n=new i;return n.bindings=t,n.middleware=e,n},i}();n.ContainerSnapshot=i},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(i.NULL_ARGUMENT);if(null==e)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(i.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(i.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(i){var r=this;this._map.forEach(function(t,e){var n=t.filter(function(t){return!i(t)});0<n.length?r._map.set(e,n):r._map.delete(e)})},t.prototype.hasKey=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var n=new t;return this._map.forEach(function(t,e){t.forEach(function(t){return n.add(e,t.clone())})}),n},t.prototype.traverse=function(n){this._map.forEach(function(t,e){n(e,t)})},t}();n.Lookup=r},{"../constants/error_msgs":13}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./constants/metadata_keys");n.METADATA_KEY=i;var r=t("./container/container");n.Container=r.Container;var o=t("./constants/literal_types");n.BindingScopeEnum=o.BindingScopeEnum,n.BindingTypeEnum=o.BindingTypeEnum,n.TargetTypeEnum=o.TargetTypeEnum;var a=t("./container/container_module");n.AsyncContainerModule=a.AsyncContainerModule,n.ContainerModule=a.ContainerModule;var s=t("./annotation/injectable");n.injectable=s.injectable;var u=t("./annotation/tagged");n.tagged=u.tagged;var c=t("./annotation/named");n.named=c.named;var d=t("./annotation/inject");n.inject=d.inject,n.LazyServiceIdentifer=d.LazyServiceIdentifer;var l=t("./annotation/optional");n.optional=l.optional;var p=t("./annotation/unmanaged");n.unmanaged=p.unmanaged;var f=t("./annotation/multi_inject");n.multiInject=f.multiInject;var h=t("./annotation/target_name");n.targetName=h.targetName;var y=t("./annotation/post_construct");n.postConstruct=y.postConstruct;var g=t("./planning/metadata_reader");n.MetadataReader=g.MetadataReader;var _=t("./utils/id");n.id=_.id;var v=t("./annotation/decorator_utils");n.decorate=v.decorate;var m=t("./syntax/constraint_helpers");n.traverseAncerstors=m.traverseAncerstors,n.taggedConstraint=m.taggedConstraint,n.namedConstraint=m.namedConstraint,n.typeConstraint=m.typeConstraint;var b=t("./utils/serialization");n.getServiceIdentifierAsString=b.getServiceIdentifierAsString;var w=t("./utils/binding_utils");n.multiBindToService=w.multiBindToService},{"./annotation/decorator_utils":1,"./annotation/inject":2,"./annotation/injectable":3,"./annotation/multi_inject":4,"./annotation/named":5,"./annotation/optional":6,"./annotation/post_construct":7,"./annotation/tagged":8,"./annotation/target_name":9,"./annotation/unmanaged":10,"./constants/literal_types":14,"./constants/metadata_keys":15,"./container/container":16,"./container/container_module":17,"./planning/metadata_reader":23,"./syntax/constraint_helpers":38,"./utils/binding_utils":39,"./utils/id":41,"./utils/serialization":42}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/id"),r=function(){function t(t){this.id=i.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();n.Context=r},{"../utils/id":41}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();n.Metadata=r},{"../constants/metadata_keys":15}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(i.TAGGED_PROP,t)||[]},t}();n.MetadataReader=r},{"../constants/metadata_keys":15}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){this.parentContext=t,this.rootRequest=e};n.Plan=i},{}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t("../bindings/binding_count"),d=t("../constants/error_msgs"),l=t("../constants/literal_types"),p=t("../constants/metadata_keys"),f=t("../utils/exceptions"),h=t("../utils/serialization"),y=t("./context"),g=t("./metadata"),_=t("./plan"),v=t("./reflection_utils"),m=t("./request"),b=t("./target");function r(t){return t._bindingDictionary}function w(t,e,n,i,r){var o=u(n.container,r.serviceIdentifier),a=[];return o.length===s.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(r.serviceIdentifier).toSelf(),o=u(n.container,r.serviceIdentifier)),a=e?o:o.filter(function(t){var e=new m.Request(t.serviceIdentifier,n,i,t,r);return t.constraint(e)}),function(t,e,n,i){switch(e.length){case s.BindingCount.NoBindingsAvailable:if(n.isOptional())return;var r=h.getServiceIdentifierAsString(t),o=d.NOT_REGISTERED;throw o+=h.listMetadataForTarget(r,n),o+=h.listRegisteredBindingsForServiceIdentifier(i,r,u),new Error(o);case s.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return;case s.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return;var r=h.getServiceIdentifierAsString(t),o=d.AMBIGUOUS_MATCH+" "+r;throw o+=h.listRegisteredBindingsForServiceIdentifier(i,r,u),new Error(o)}}(r.serviceIdentifier,a,r,n.container),a}function u(t,e){var n=[],i=r(t);return i.hasKey(e)?n=i.get(e):null!==t.parent&&(n=u(t.parent,e)),n}n.getBindingDictionary=r,n.plan=function(t,e,n,i,r,o,a,s){void 0===s&&(s=!1);var u=new y.Context(e),c=function(t,e,n,i,r,o){var a=t?p.MULTI_INJECT_TAG:p.INJECT_TAG,s=new g.Metadata(a,n),u=new b.Target(e,i,n,s);if(void 0!==r){var c=new g.Metadata(r,o);u.metadata.push(c)}return u}(n,i,r,"",o,a);try{return function o(a,t,e,s,n,u){var i,c;if(null===n){i=w(a,t,s,null,u),c=new m.Request(e,s,null,i,u);var r=new _.Plan(s,c);s.addPlan(r)}else i=w(a,t,s,n,u),c=n.addChildRequest(u.serviceIdentifier,i,u);i.forEach(function(t){var e=null;if(u.isArray())e=c.addChildRequest(t.serviceIdentifier,t,u);else{if(t.cache)return;e=c}if(t.type===l.BindingTypeEnum.Instance&&null!==t.implementationType){var n=v.getDependencies(a,t.implementationType);if(!s.container.options.skipBaseClassChecks){var i=v.getBaseClassDependencyCount(a,t.implementationType);if(n.length<i){var r=d.ARGUMENTS_LENGTH_MISMATCH(v.getFunctionName(t.implementationType));throw new Error(r)}}n.forEach(function(t){o(a,!1,t.serviceIdentifier,s,e,t)})}})}(t,s,r,u,null,c),u}catch(t){throw f.isStackOverflowExeption(t)&&u.plan&&h.circularDependencyToException(u.plan.rootRequest),t}},n.createMockRequest=function(t,e,n,i){var r=new b.Target(l.TargetTypeEnum.Variable,"",e,new g.Metadata(n,i)),o=new y.Context(t);return new m.Request(e,o,null,[],r)}},{"../bindings/binding_count":12,"../constants/error_msgs":13,"../constants/literal_types":14,"../constants/metadata_keys":15,"../utils/exceptions":40,"../utils/serialization":42,"./context":21,"./metadata":22,"./plan":24,"./reflection_utils":27,"./request":28,"./target":29}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();n.QueryableString=i},{}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=t("../annotation/inject"),y=t("../constants/error_msgs"),g=t("../constants/literal_types"),u=t("../constants/metadata_keys"),c=t("../utils/serialization");n.getFunctionName=c.getFunctionName;var _=t("./target");function d(t,e,n,i){var r=t.getConstructorMetadata(n),o=r.compilerGeneratedMetadata;if(void 0===o){var a=y.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(a)}var s=r.userGeneratedMetadata,u=Object.keys(s),c=function(t,e,n,i,r){for(var o=[],a=0;a<r;a++){var s=a,u=l(s,t,e,n,i);null!==u&&o.push(u)}return o}(i,e,o,s,0===n.length&&0<u.length?u.length:n.length),d=function t(e,n){var i=e.getPropertiesMetadata(n);var r=[];var o=Object.keys(i);for(var a=0,s=o;a<s.length;a++){var u=s[a],c=i[u],d=v(i[u]),l=d.targetName||u,p=d.inject||d.multiInject,f=new _.Target(g.TargetTypeEnum.ClassProperty,l,p);f.metadata=c,r.push(f)}var h=Object.getPrototypeOf(n.prototype).constructor;if(h!==Object){var y=t(e,h);r=r.concat(y)}return r}(t,n);return c.concat(d)}function l(t,e,n,i,r){var o=r[t.toString()]||[],a=v(o),s=!0!==a.unmanaged,u=i[t],c=a.inject||a.multiInject;if((u=c||u)instanceof h.LazyServiceIdentifer&&(u=u.unwrap()),s){var d=u===Object,l=u===Function;if(!e&&(d||l||void 0===u)){var p=y.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(p)}var f=new _.Target(g.TargetTypeEnum.ConstructorArgument,a.targetName,u);return f.metadata=o,f}return null}function v(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[u.INJECT_TAG],multiInject:e[u.MULTI_INJECT_TAG],targetName:e[u.NAME_TAG],unmanaged:e[u.UNMANAGED_TAG]}}n.getDependencies=function(t,e){return d(t,c.getFunctionName(e),e,!1)},n.getBaseClassDependencyCount=function t(e,n){var i=Object.getPrototypeOf(n.prototype).constructor;if(i===Object)return 0;var r=d(e,c.getFunctionName(i),i,!0),o=r.map(function(t){return t.metadata.filter(function(t){return t.key===u.UNMANAGED_TAG})}),a=[].concat.apply([],o).length,s=r.length-a;return 0<s?s:t(e,i)}},{"../annotation/inject":2,"../constants/error_msgs":13,"../constants/literal_types":14,"../constants/metadata_keys":15,"../utils/serialization":42,"./target":29}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../utils/id"),i=function(){function r(t,e,n,i,r){this.id=o.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=r,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return r.prototype.addChildRequest=function(t,e,n){var i=new r(t,this.parentContext,this,e,n);return this.childRequests.push(i),i},r}();n.Request=i},{"../utils/id":41}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../constants/metadata_keys"),a=t("../utils/id"),s=t("./metadata"),u=t("./queryable_string"),i=function(){function t(t,e,n,i){this.id=a.id(),this.type=t,this.serviceIdentifier=n,this.name=new u.QueryableString(e||""),this.metadata=new Array;var r=null;"string"==typeof i?r=new s.Metadata(o.NAMED_TAG,i):i instanceof s.Metadata&&(r=i),null!==r&&this.metadata.push(r)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(o.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(o.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(o.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==o.INJECT_TAG&&t.key!==o.MULTI_INJECT_TAG&&t.key!==o.NAME_TAG&&t.key!==o.UNMANAGED_TAG&&t.key!==o.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(o.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===o.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==o.INJECT_TAG&&t.key!==o.MULTI_INJECT_TAG&&t.key!==o.NAME_TAG&&t.key!==o.UNMANAGED_TAG&&t.key!==o.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(o.NAMED_TAG)(t)},t.prototype.matchesTag=function(r){var o=this;return function(t){for(var e=0,n=o.metadata;e<n.length;e++){var i=n[e];if(i.key===r&&i.value===t)return!0}return!1}},t}();n.Target=i},{"../constants/metadata_keys":15,"../utils/id":41,"./metadata":22,"./queryable_string":26}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("../constants/error_msgs"),p=t("../constants/literal_types"),f=t("../constants/metadata_keys");n.resolveInstance=function(t,e,n){var r,i,o,a,s,u,c=null;if(0<e.length){var d=e.filter(function(t){return null!==t.target&&t.target.type===p.TargetTypeEnum.ConstructorArgument}).map(n);u=d,c=new((s=t).bind.apply(s,[void 0].concat(u))),r=c,i=n,o=e.filter(function(t){return null!==t.target&&t.target.type===p.TargetTypeEnum.ClassProperty}),a=o.map(i),o.forEach(function(t,e){var n;n=t.target.name.value();var i=a[e];r[n]=i}),c=r}else c=new t;return function(e,t){if(Reflect.hasMetadata(f.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(f.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(l.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(t,c),c}},{"../constants/error_msgs":13,"../constants/literal_types":14,"../constants/metadata_keys":15}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("../constants/error_msgs"),p=t("../constants/literal_types"),i=t("../utils/exceptions"),f=t("../utils/serialization"),h=t("./instantiation"),y=function(e,n,t){try{return t()}catch(t){throw i.isStackOverflowExeption(t)?new Error(l.CIRCULAR_DEPENDENCY_IN_FACTORY(e,n.toString())):t}},g=function(d){return function(t){t.parentContext.setCurrentRequest(t);var e=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),r=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&r)return n.map(function(t){return g(d)(t)});var o=null;if(!t.target.isOptional()||0!==e.length){var a=e[0],s=a.scope===p.BindingScopeEnum.Singleton,u=a.scope===p.BindingScopeEnum.Request;if(s&&a.activated)return a.cache;if(u&&null!==d&&d.has(a.id))return d.get(a.id);if(a.type===p.BindingTypeEnum.ConstantValue)o=a.cache;else if(a.type===p.BindingTypeEnum.Function)o=a.cache;else if(a.type===p.BindingTypeEnum.Constructor)o=a.implementationType;else if(a.type===p.BindingTypeEnum.DynamicValue&&null!==a.dynamicValue)o=y("toDynamicValue",a.serviceIdentifier,function(){return a.dynamicValue(t.parentContext)});else if(a.type===p.BindingTypeEnum.Factory&&null!==a.factory)o=y("toFactory",a.serviceIdentifier,function(){return a.factory(t.parentContext)});else if(a.type===p.BindingTypeEnum.Provider&&null!==a.provider)o=y("toProvider",a.serviceIdentifier,function(){return a.provider(t.parentContext)});else{if(a.type!==p.BindingTypeEnum.Instance||null===a.implementationType){var c=f.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(l.INVALID_BINDING_TYPE+" "+c)}o=h.resolveInstance(a.implementationType,n,g(d))}return"function"==typeof a.onActivation&&(o=a.onActivation(t.parentContext,o)),s&&(a.cache=o,a.activated=!0),u&&null!==d&&!d.has(a.id)&&d.set(a.id,o),o}}};n.resolve=function(t){return g(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},{"../constants/error_msgs":13,"../constants/literal_types":14,"../utils/exceptions":40,"../utils/serialization":42,"./instantiation":30}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/literal_types"),r=t("./binding_when_on_syntax"),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new r.BindingWhenOnSyntax(this._binding)},t}();n.BindingInSyntax=o},{"../constants/literal_types":14,"./binding_when_on_syntax":36}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./binding_in_syntax"),r=t("./binding_on_syntax"),o=t("./binding_when_syntax"),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingInWhenOnSyntax=a},{"./binding_in_syntax":32,"./binding_on_syntax":34,"./binding_when_syntax":37}],34:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./binding_when_syntax"),r=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new i.BindingWhenSyntax(this._binding)},t}();n.BindingOnSyntax=r},{"./binding_when_syntax":37}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=t("../constants/literal_types"),o=t("./binding_in_when_on_syntax"),a=t("./binding_when_on_syntax"),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=r.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=r.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=r.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(i.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=r.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(e){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=r.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},t}();n.BindingToSyntax=s},{"../constants/error_msgs":13,"../constants/literal_types":14,"./binding_in_when_on_syntax":33,"./binding_when_on_syntax":36}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./binding_on_syntax"),r=t("./binding_when_syntax"),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingWhenOnSyntax=o},{"./binding_on_syntax":34,"./binding_when_syntax":37}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./binding_on_syntax"),r=t("./constraint_helpers"),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=r.namedConstraint(t),new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=r.taggedConstraint(t)(e),new i.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return r.typeConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return r.namedConstraint(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(t){return r.taggedConstraint(e)(n)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.typeConstraint(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.namedConstraint(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.taggedConstraint(e)(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.taggedConstraint(e)(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,e)},new i.BindingOnSyntax(this._binding)},t}();n.BindingWhenSyntax=o},{"./binding_on_syntax":34,"./constraint_helpers":38}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=t("../planning/metadata"),o=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||o(n,e))};n.traverseAncerstors=o;var a=function(n){return function(e){var t=function(t){return null!==t&&null!==t.target&&t.target.matchesTag(n)(e)};return t.metaData=new r.Metadata(n,e),t}},s=(n.taggedConstraint=a)(i.NAMED_TAG);n.namedConstraint=s;n.typeConstraint=function(i){return function(t){var e=null;if(null===t)return!1;if(e=t.bindings[0],"string"==typeof i)return e.serviceIdentifier===i;var n=t.bindings[0].implementationType;return i===n}}},{"../constants/metadata_keys":15,"../planning/metadata":22}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.multiBindToService=function(i){return function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.forEach(function(t){return i.bind(t).toService(n)})}}}},{}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/error_msgs");n.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===i.STACK_OVERFLOW}},{"../constants/error_msgs":13}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=0;n.id=function(){return i++}},{}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../constants/error_msgs");function r(t){return"function"!=typeof t?"symbol"==typeof t?t.toString():t:t.name}function o(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}n.getServiceIdentifierAsString=r,n.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var i="",r=n(t,e);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach(function(t){var e="Object";null!==t.implementationType&&(e=o(t.implementationType)),i=i+"\n "+e,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)})),i},n.circularDependencyToException=function n(t){t.childRequests.forEach(function(t){if(function t(e,n){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===n||t(e.parentRequest,n))}(t,t.serviceIdentifier)){var e=function t(e,n){void 0===n&&(n=[]);var i=r(e.serviceIdentifier);return n.push(i),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\x3e ");throw new Error(i.CIRCULAR_DEPENDENCY+" "+e)}n(t)})},n.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",i=e.getNamedTag(),r=e.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==r&&r.forEach(function(t){n+=t.toString()+"\n"})," "+t+"\n "+t+" - "+n}return" "+t},n.getFunctionName=o},{"../constants/error_msgs":13}],43:[function(t,e,n){var i,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,d=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?d=c.concat(d):p=-1,d.length&&h())}function h(){if(!l){var t=u(f);l=!0;for(var e=d.length;e;){for(c=d,d=[];++p<e;)c&&c[p].run();p=-1,e=d.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new y(t,e)),1!==d.length||l||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],44:[function(t,e,n){(function(j,r){var t,o;o=t||(t={}),function(t){var e="object"==typeof r?r:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(o);function i(n,i){return function(t,e){"function"!=typeof n[t]&&Object.defineProperty(n,t,{configurable:!0,writable:!0,value:e}),i&&i(t,e)}}void 0===e.Reflect?e.Reflect=o:n=i(e.Reflect,n),function(t){var u=Object.prototype.hasOwnProperty,e="function"==typeof Symbol,o=e&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",p=e&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",n="function"==typeof Object.create,i={__proto__:[]}instanceof Array,r=!n&&!i,c={create:n?function(){return k(Object.create(null))}:i?function(){return k({__proto__:null})}:function(){return k({})},has:r?function(t,e){return u.call(t,e)}:function(t,e){return e in t},get:r?function(t,e){return u.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},a=Object.getPrototypeOf(Function),s="object"==typeof j&&j.env&&"true"===j.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=s||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var r={},n=[],e=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[p]=function(){return this},t.prototype.next=function(){var t=this._index;if(0<=t&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),t},t.prototype.return=function(t){return 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),{value:t,done:!0}},t}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=r,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return 0<=this._find(t,!1)},t.prototype.get=function(t){var e=this._find(t,!1);return 0<=e?this._values[e]:void 0},t.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},t.prototype.delete=function(t){var e=this._find(t,!1);if(0<=e){for(var n=this._keys.length,i=e+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=r,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=r,this._cacheIndex=-2},t.prototype.keys=function(){return new e(this._keys,this._values,i)},t.prototype.values=function(){return new e(this._keys,this._values,o)},t.prototype.entries=function(){return new e(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[p]=function(){return this.entries()},t.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},t}();function i(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,f=s||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[p]=function(){return this.keys()},t}():Set,l=new(s||"function"!=typeof WeakMap?function(){var o=16,e=c.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=r(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=r(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){var n=r(t,!0);return n[this._key]=e,this},t.prototype.delete=function(t){var e=r(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){for(var t;t="@@WeakMap@@"+s(),c.has(e,t););return e[t]=!0,t}function r(t,e){if(!u.call(t,n)){if(!e)return;Object.defineProperty(t,n,{value:c.create()})}return t[n]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var t,e=(t=o,"function"!=typeof Uint8Array?a(new Array(t),t):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",i=0;i<o;++i){var r=e[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}():WeakMap);function h(t,e){for(var n=t.length-1;0<=n;--n){var i=t[n],r=i(e);if(!S(r)&&!x(r)){if(!M(r))throw new TypeError;e=r}}return e}function y(t,e,n,i){for(var r=t.length-1;0<=r;--r){var o=t[r],a=o(e,n,i);if(!S(a)&&!x(a)){if(!E(a))throw new TypeError;i=a}}return i}function g(t,e,n){var i=l.get(t);if(S(i)){if(!n)return;i=new d,l.set(t,i)}var r=i.get(e);if(S(r)){if(!n)return;r=new d,i.set(e,r)}return r}function _(t,e,n){var i=v(t,e,n);if(i)return!0;var r=D(e);return!x(r)&&_(t,r,n)}function v(t,e,n){var i=g(e,n,!1);return!S(i)&&!!i.has(t)}function m(t,e,n){var i=v(t,e,n);if(i)return b(t,e,n);var r=D(e);return x(r)?void 0:m(t,r,n)}function b(t,e,n){var i=g(e,n,!1);if(!S(i))return i.get(t)}function w(t,e,n,i){var r=g(n,i,!0);r.set(t,e)}function T(t,e){var n=A(t,e),i=D(t);if(null===i)return n;var r=T(i,e);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new f,a=[],s=0,u=n;s<u.length;s++){var c=u[s],d=o.has(c);d||(o.add(c),a.push(c))}for(var l=0,p=r;l<p.length;l++){var c=p[l],d=o.has(c);d||(o.add(c),a.push(c))}return a}function A(t,e){var n,i,r=[],o=g(t,e,!1);if(S(o))return r;for(var a,s=o.keys(),u=function(t){var e=B(t,p);if(!P(e))throw new TypeError;var n=e.call(t);if(!E(n))throw new TypeError;return n}(s),c=0;;){var d=!(a=u.next()).done&&a;if(!d)return r.length=c,r;var l=d.value;try{r[c]=l}catch(t){try{i=void 0,(i=(n=u).return)&&i.call(n)}finally{throw t}}c++}}function I(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function S(t){return void 0===t}function x(t){return null===t}function E(t){return"object"==typeof t?null!==t:"function"==typeof t}function O(t,e){switch(I(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=B(t,o);if(void 0===i)return function(t,e){if("string"===e){var n=t.toString;if(P(n)){var i=n.call(t);if(!E(i))return i}var r=t.valueOf;if(P(r)){var i=r.call(t);if(!E(i))return i}}else{var r=t.valueOf;if(P(r)){var i=r.call(t);if(!E(i))return i}var o=t.toString;if(P(o)){var i=o.call(t);if(!E(i))return i}}throw new TypeError}(t,"default"===n?"number":n);var r=i.call(t,n);if(E(r))throw new TypeError;return r}function N(t){var e=O(t,3);return"symbol"==typeof e?e:""+e}function C(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function P(t){return"function"==typeof t}function M(t){return"function"==typeof t}function R(t){switch(I(t)){case 3:case 4:return!0;default:return!1}}function B(t,e){var n=t[e];if(null!=n){if(!P(n))throw new TypeError;return n}}function D(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===a)return e;if(e!==a)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r?e:r===t?e:r}function k(t){return t.__=void 0,delete t.__,t}t("decorate",function(t,e,n,i){if(S(n)){if(!C(t))throw new TypeError;if(!M(e))throw new TypeError;return h(t,e)}if(!C(t))throw new TypeError;if(!E(e))throw new TypeError;if(!E(i)&&!S(i)&&!x(i))throw new TypeError;return x(i)&&(i=void 0),n=N(n),y(t,e,n,i)}),t("metadata",function(n,i){function t(t,e){if(!E(t))throw new TypeError;if(!S(e)&&!R(e))throw new TypeError;w(n,i,t,e)}return t}),t("defineMetadata",function(t,e,n,i){if(!E(n))throw new TypeError;return S(i)||(i=N(i)),w(t,e,n,i)}),t("hasMetadata",function(t,e,n){if(!E(e))throw new TypeError;return S(n)||(n=N(n)),_(t,e,n)}),t("hasOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;return S(n)||(n=N(n)),v(t,e,n)}),t("getMetadata",function(t,e,n){if(!E(e))throw new TypeError;return S(n)||(n=N(n)),m(t,e,n)}),t("getOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;return S(n)||(n=N(n)),b(t,e,n)}),t("getMetadataKeys",function(t,e){if(!E(t))throw new TypeError;return S(e)||(e=N(e)),T(t,e)}),t("getOwnMetadataKeys",function(t,e){if(!E(t))throw new TypeError;return S(e)||(e=N(e)),A(t,e)}),t("deleteMetadata",function(t,e,n){if(!E(e))throw new TypeError;S(n)||(n=N(n));var i=g(e,n,!1);if(S(i))return!1;if(!i.delete(t))return!1;if(0<i.size)return!0;var r=l.get(e);return r.delete(n),0<r.size||l.delete(e),!0})}(n)}()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:43}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={SERVICE:{BOX2APP:"IBox2App"},DATA:{PLAYER_FOOT:"playerFoot",TYPE:{ONE_WAY_PLATFORM:"OWP"}}}},{}],46:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,n,a):r(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=this&&this.__param||function(n,i){return function(t,e){i(t,e,n)}};Object.defineProperty(n,"__esModule",{value:!0});var a,s,u,c=t("inversify");a=n.Mon||(n.Mon={}),s=a.Helpers||(a.Helpers={}),u=function(){function t(t){var e=this;this.scale=30,this.set={animation:{positionIterations:function(t){e.positionIterations=t},timeStep:function(t){e.timeStep=t},velocityIterations:function(t){e.velocityIterations=t}},debug:{fillAlpha:function(t){e.fillAlpha=t},flags:function(t){e.flags=t},lineThickness:function(t){e.lineThickness=t}}},this.timeStep=1/60,this.velocityIterations=8,this.positionIterations=3,this.fillAlpha=.5,this.lineThickness=1,this.flags=Box2D.Dynamics.b2DebugDraw.e_shapeBit||Box2D.Dynamics.b2DebugDraw.e_jointBit,this.applyPhysics=function(){e.world.Step(e.timeStep,e.velocityIterations,e.positionIterations),e.world.ClearForces(),e.world.DrawDebugData(),setTimeout(e.applyPhysics,e.timeStep)},t.w&&(this.w=t.w),t.h&&(this.h=t.h),t.gravity||(t.gravity=new Box2D.Common.Math.b2Vec2(0,9.8)),this.world=new Box2D.Dynamics.b2World(t.gravity,t.allowSleep),t.debug&&(this.app=this.addDebugView(t.containerId,t.customStyles,t.addClass),this.setupDebugDraw())}return t.prototype.removeCanvasFuzz=function(t,e){this.app.width=2*t,this.app.height=2*e,this.app.getContext("2d").scale(2,2)},t.prototype.addDebugView=function(t,e,n){var i=document.createElement("canvas");return i.setAttribute("id","debugView"),this.w&&(i.width=this.w),this.h&&(i.height=this.h),i.style.cssText=e||"background-color: rgba(255, 255, 255, 0.4); position: absolute;",n&&(i.className+=n),t?document.getElementById(t).insertBefore(i,document.body.getElementsByTagName("canvas")[0]):document.body.insertBefore(i,document.body.getElementsByTagName("canvas")[0])},t.prototype.setupDebugDraw=function(){var t=new Box2D.Dynamics.b2DebugDraw;t.SetSprite(document.getElementById("debugView").getContext("2d")),t.SetDrawScale(this.scale),t.SetFillAlpha(this.fillAlpha),t.SetLineThickness(this.lineThickness),t.SetFlags(this.flags),this.world.SetDebugDraw(t)},t=i([c.injectable(),o(0,c.inject("B2AppOptions")),r("design:paramtypes",[Object])],t)}(),s.Box2App=u},{inversify:20}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.color={main:16765992,secondary:12455167,white:16777215}}return t.getInstance=function(){return this._instance||(this._instance=new this)},t}();n.SharedPrefs=i},{}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t("reflect-metadata");var i=t("../Mon-chan"),r=t("../Identifiers"),o=new(t("inversify").Container);o.bind(r.default.SERVICE.BOX2APP).to(i.Mon.Helpers.Box2App),n.initBox2App=function(t){o.bind("B2AppOptions").toConstantValue(t).whenInjectedInto(i.Mon.Helpers.Box2App)},n.default=o},{"../Identifiers":45,"../Mon-chan":46,inversify:20,"reflect-metadata":44}],49:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../SharedPrefs"),a=function(e){function t(){var t=e.call(this)||this;return t.mainVertex=new PIXI.Graphics,t.lines={lineTo:{x:null,y:null},moveTo:{x:null,y:null},entity:new PIXI.Graphics},t.vertexPointList=new Array,t.isOpen=!0,t.vertexCoodinates={raw:new Array,vertex:new Array},t.vertexDragging=!1,t}return r(t,e),t.prototype.draw=function(t,e){var n=this;this.vertexCoodinates.raw.push(t),this.vertexCoodinates.raw.push(e);var i={x:t,y:e};return this.vertexCoodinates.vertex.push(i),this.polygonShape=new PIXI.Polygon(this.vertexCoodinates.raw),this.interactive=!0,this.lineStyle(1,o.SharedPrefs.getInstance().color.white),this.pivot.set(.5),this.endFill(),this.drawPolygon(this.polygonShape),this.on("click",function(t){n.clear(),n.lineStyle(2,o.SharedPrefs.getInstance().color.secondary),n.beginFill(o.SharedPrefs.getInstance().color.white,0),n.drawPolygon(n.polygonShape),console.log("poly")}),this},t.prototype.addMainVertex=function(e,n){var i=this;return this.mainVertex=this.mainVertexStyle(this.mainVertex,e,n),this.mainVertex.name=this.vertexPointList.length.toString(),this.vertexPointList.push(this.mainVertex),this.mainVertex.on("mouseover",function(t){i.mainVertex.clear(),i.mainVertex=i.mainVertexOverStyle(i.mainVertex,e,n)}),this.mainVertex.on("mouseout",function(t){i.mainVertex.clear(),i.mainVertex=i.mainVertexStyle(i.mainVertex,e,n)}),this.mainVertex},t.prototype.addVertex=function(t,e){var n,i=this,r=new PIXI.Graphics;return(r=this.vertexStyle(r,t,e)).name=this.vertexPointList.length.toString(),this.vertexPointList.push(r),r.on("mouseover",function(){n=Number.parseInt(r.name),r.clear(),r=i.vertexOverStyle(r,i.vertexCoodinates.vertex[n].x,i.vertexCoodinates.vertex[n].y)}),r.on("mouseout",function(){n=Number.parseInt(r.name),r.clear(),r=i.vertexStyle(r,i.vertexCoodinates.vertex[n].x,i.vertexCoodinates.vertex[n].y)}),r.on("mousedown",function(){n=Number.parseInt(r.name),o.SharedPrefs.getInstance().clickedVertex=n,r.clear(),r=i.vertexDownStyle(r,i.vertexCoodinates.vertex[n].x,i.vertexCoodinates.vertex[n].y),i.vertexDragging=!0}),r.on("mouseup",function(){n=Number.parseInt(r.name),r.clear(),r=i.vertexOverStyle(r,i.vertexCoodinates.vertex[n].x,i.vertexCoodinates.vertex[n].y),i.vertexDragging=!1,r.position.x=i.vertexCoodinates.vertex[o.SharedPrefs.getInstance().clickedVertex].x,r.position.y=i.vertexCoodinates.vertex[o.SharedPrefs.getInstance().clickedVertex].y,delete o.SharedPrefs.getInstance().clickedVertex}),r.on("rightclick",function(){n=Number.parseInt(r.name),i.vertexPointList.splice(n,1),r.destroy(!0),i.vertexCoodinates.vertex.splice(n,1),i.vertexCoodinates.raw.splice(n+n,2);for(var t=0;t<=i.vertexPointList.length-1;t++)i.vertexPointList[t].name=t.toString();i.redraw()}),r.on("mousemove",function(){i.vertexDragging&&(i.vertexCoodinates.raw[o.SharedPrefs.getInstance().clickedVertex+o.SharedPrefs.getInstance().clickedVertex]=i.vertexCoodinates.vertex[o.SharedPrefs.getInstance().clickedVertex].x=i.vertexPointList[o.SharedPrefs.getInstance().clickedVertex].position.x=o.SharedPrefs.getInstance().mouseX,i.vertexCoodinates.raw[o.SharedPrefs.getInstance().clickedVertex+o.SharedPrefs.getInstance().clickedVertex+1]=i.vertexCoodinates.vertex[o.SharedPrefs.getInstance().clickedVertex].y=i.vertexPointList[o.SharedPrefs.getInstance().clickedVertex].position.y=o.SharedPrefs.getInstance().mouseY,i.redraw())}),r},t.prototype.close=function(){this.polygonShape.close(),this.isOpen=!1},t.prototype.redraw=function(){this.clear(),this.lineStyle(1,o.SharedPrefs.getInstance().color.white),this.beginFill(o.SharedPrefs.getInstance().color.white,.3),this.drawPolygon(this.polygonShape)},t.prototype.vertexStyle=function(t,e,n){return t.interactive=!0,t.beginFill(o.SharedPrefs.getInstance().color.white),t.pivot.x=2,t.pivot.y=2,t.position.x=e,t.position.y=n,t.drawRect(0,0,4,4),t},t.prototype.vertexOverStyle=function(t,e,n){return t.interactive=!0,t.beginFill(o.SharedPrefs.getInstance().color.white,0),t.lineStyle(1,o.SharedPrefs.getInstance().color.main),t.pivot.x=4,t.pivot.y=4,t.position.x=e,t.position.y=n,t.drawRect(0,0,8,8),t},t.prototype.vertexDownStyle=function(t,e,n){return t.interactive=!0,t.beginFill(o.SharedPrefs.getInstance().color.white),t.lineStyle(1,o.SharedPrefs.getInstance().color.main),t.pivot.x=4,t.pivot.y=4,t.position.x=e,t.position.y=n,t.drawRect(0,0,8,8),t},t.prototype.mainVertexStyle=function(t,e,n){return t.interactive=!0,t.beginFill(o.SharedPrefs.getInstance().color.main),t.pivot.x=2.5,t.pivot.y=2.5,t.position.x=e,t.position.y=n,t.drawRect(0,0,5,5),t},t.prototype.mainVertexOverStyle=function(t,e,n){return t.interactive=!0,t.beginFill(o.SharedPrefs.getInstance().color.white,0),t.lineStyle(1,o.SharedPrefs.getInstance().color.white),t.pivot.x=4,t.pivot.y=4,t.position.x=e,t.position.y=n,t.drawRect(0,0,8,8),t},t}(PIXI.Graphics);n.Poly=a},{"../../SharedPrefs":47}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./sections/WorkBench");window.onload=function(){i=new r.WorkBench({containerId:"container",w:window.innerWidth,h:window.innerHeight,debug:!1,allowSleep:!0});var t=new PIXI.Graphics;t.lineStyle(1,13434828),t.moveTo(0,3),t.lineTo(250,3),t.interactive=!0,t.beginFill(16777215,0),t.lineStyle(1,13434828,0),t.drawRect(0,0,250,6),t.endFill(),t.position.x=500,t.position.y=200,t.on("click",function(){console.log("MetaClick")}),i.pixiApp.stage.addChild(t)}},{"./sections/WorkBench":51}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../config/InversionOfControl"),r=t("../services/Box2AppService"),o=t("../entities/polygon/Poly"),a=t("../SharedPrefs"),s=function(){function t(t){this.bench=new PIXI.Graphics,this.poly=new o.Poly,this.clicks=0,this.pixiApp=new PIXI.Application({width:t.w,height:t.h,antialias:!0,transparent:!0}),this.pixiApp.renderer.view.setAttribute("id","pixiView"),document.getElementById(t.containerId).appendChild(this.pixiApp.view),this.bench.interactive=!0,this.bench.beginFill(4473924),this.bench.drawRect(0,0,this.pixiApp.renderer.view.width,this.pixiApp.renderer.view.height),this.pixiApp.stage.addChild(this.bench),a.SharedPrefs.getInstance().bench=this.bench,i.initBox2App(t),this.b2App=i.default.resolve(r.Box2AppService)}return t.prototype.drawPoly=function(t,e){0===this.clicks?(this.bench.addChild(this.poly.addMainVertex(t,e),this.poly.draw(t,e)),this.clicks++):this.poly.isOpen&&(this.bench.removeChild(this.poly.mainVertex),this.bench.removeChild(this.poly),this.bench.addChild(this.poly.draw(t,e),this.poly.addVertex(t,e)),this.bench.addChild(this.poly.mainVertex))},t.prototype.addListenners=function(){var e=this;this.poly.mainVertex.on("click",function(t){e.poly.close(),e.poly.redraw()}),this.bench.on("click",function(t){e.drawPoly(e.pixiApp.renderer.plugins.interaction.mouse.global.x,e.pixiApp.renderer.plugins.interaction.mouse.global.y)})},t.prototype.enableToClosePoly=function(){var e=this;this.bench.removeListener("click"),this.bench.on("click",function(t){e.poly.close(),e.poly.redraw()})},t}();n.WorkBench=s},{"../SharedPrefs":47,"../config/InversionOfControl":48,"../entities/polygon/Poly":49,"../services/Box2AppService":52}],52:[function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,n,a):r(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=this&&this.__param||function(n,i){return function(t,e){i(t,e,n)}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("inversify"),s=t("../Identifiers"),u=function(){function t(t){this.box2App=t,this.app=this.box2App.app,this.world=this.box2App.world,this.scale=this.box2App.scale,this.set=this.box2App.set,this.applyPhysics=this.box2App.applyPhysics}return t.prototype.removeCanvasFuzz=function(t,e){this.box2App.removeCanvasFuzz(t,e)},t=i([a.injectable(),o(0,a.inject(s.default.SERVICE.BOX2APP)),r("design:paramtypes",[Object])],t)}();n.Box2AppService=u},{"../Identifiers":45,inversify:20}]},{},[50])(50)});
//# sourceMappingURL=core.min.js.map
